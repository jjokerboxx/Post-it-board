(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{62:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),a=n(47),o=n.n(a),s=n(12),i=n(35),u=n(14),l=n(11),j=n(36),b=n(48),d=n(27),O=n(49),p=(Object(b.a)({apiKey:"AIzaSyDQfpzAy2sHeCD78F6JMp35qlueE0x76us",authDomain:"nwitter-60857.firebaseapp.com",projectId:"nwitter-60857",storageBucket:"nwitter-60857.appspot.com",messagingSenderId:"250110002373",appId:"1:250110002373:web:638c93c421ce7423ad9cac"}),Object(d.c)()),f=Object(O.a)(),h=n(21),x=n(0),m=n.n(x),g=n(1),v=n(8),k=function(e){var t=e.postObj,n=e.isOwner,c=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(Object(h.d)(f,"Post",t.id));case 2:console.log("delete doc",t.id);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(g.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(h.d)(f,"Post",t.id),e.next=3,Object(h.i)(n,{like:t.like+1});case 3:console.log("like doc",t.id);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=new Date(t.uploadedAt);"".concat(a.getMonth()+1,", ").concat(a.getDate(),", ").concat(a.getFullYear());return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{style:{position:"relative",wordWrap:"break-word",backgroundColor:t.color,border:"none",borderRadius:10,padding:10,margin:30,outlineStyle:"none",resize:"none",width:250,height:150},children:[n&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:Object(v.jsx)("button",{style:{position:"absolute",marginBottom:5,right:"10px",border:"none",backgroundColor:t.color,color:"white"},onClick:c,children:"\u2716"})})}),Object(v.jsx)("div",{style:{width:220},id:t.id,children:Object(v.jsx)("span",{children:t.contents})}),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:Object(v.jsx)("button",{style:{position:"absolute",marginBottom:5,right:"10px",top:"40px",border:"none",backgroundColor:t.color,color:"white"},onClick:r,children:Object(v.jsxs)("b",{children:["\ud83d\udc4d\ud83c\udffb ",0!=t.like&&t.like]})})})})]})})},w=(n(62),n(39)),y=function(e){var t=e.color;return Object(v.jsx)("div",{id:t,className:"colorButton",style:{backgroundColor:t},onClick:function(e){var t=e.target.id,n=document.querySelector(".post"),c=document.querySelector(".postIt");n.animate({backgroundColor:t},{duration:400,fill:"forwards"}),c.animate({backgroundColor:t},{duration:400,fill:"forwards"}),setTimeout((function(){n.style.backgroundColor=t,c.style.backgroundColor=t}),100)}})};var S,C=function(e){var t=e.userObj,n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)([]),u=Object(s.a)(i,2),l=(u[0],u[1],Object(c.useState)(!1)),j=Object(s.a)(l,2),b=(j[0],j[1],function(){var e=Object(g.a)(m.a.mark((function e(n){var c,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=document.querySelector(".postIt"),r={contents:a,uploadedAt:Date.now(),author:t.uid,color:c.style.backgroundColor,like:0},e.next=5,Object(h.a)(Object(h.b)(f,"Post"),r);case 5:s=e.sent,console.log("Document written with ID: ",s.id),document.querySelector(".post").value="",o("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(v.jsx)("div",{style:{flex:1,margin:30},children:Object(v.jsxs)("form",{className:"postForm",children:[Object(v.jsxs)("div",{className:"postIt",style:{backgroundColor:"#ffd359"},children:[Object(v.jsx)("textarea",{style:{marginTop:"10px"},className:"post",cols:30,rows:7,value:a,onChange:function(e){var t=e.target.value;o(t)},placeholder:"What's on your mind?",maxLength:140}),Object(v.jsx)("div",{className:"colorPalette",children:["#ffd359","#e2ff3d","#ff8547","#44ccff","#ff8adc"].map((function(e){return Object(v.jsx)(y,{color:e})}))})]}),Object(v.jsx)("button",{className:"defaultButton",onClick:b,children:"Post!"})]})})},F=w.a.div(S||(S=Object(j.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n"]))),N=function(e){var t=e.userObj,n=Object(c.useState)(""),r=Object(s.a)(n,2),a=(r[0],r[1],Object(c.useState)([])),o=Object(s.a)(a,2),i=o[0],u=o[1],j=Object(c.useState)(!1),b=Object(s.a)(j,2),d=b[0],O=b[1],p=Object(c.useState)(!1),x=Object(s.a)(p,2),m=x[0],g=x[1];return Object(c.useEffect)((function(){var e="uploadedAt";console.log(e);var t=Object(h.h)(Object(h.b)(f,"Post"),Object(h.g)(e,"desc"));Object(h.f)(t,(function(e){var t=e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())}));u(t)}));console.log("isSorted",d)}),[d]),Object(c.useEffect)((function(){}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("button",{className:"defaultButton",onClick:function(){O((function(e){return!e})),console.log(d)},children:["Sort by ",d?"Time":"Like"]}),Object(v.jsx)("button",{className:"write",onClick:function(){g((function(e){return!e}))},children:"\uc0c8\ub85c\uc6b4 \ud3ec\uc2a4\ud2b8\uc787 \uc791\uc131\ud558\uae30!"}),Object(v.jsxs)("div",{className:"flexContainer",children:[m&&Object(v.jsx)(C,{userObj:t}),Object(v.jsx)(F,{children:i.sort((function(e,t){return d?t.like-e.like:t.uploadedAt-e.uploadedAt})).map((function(e){return Object(v.jsx)(k,{postObj:e,isOwner:t.uid===e.author},e.id)}))})]})]})},D=function(){var e=Object(u.f)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("button",{onClick:function(){p.signOut(),e.push("/")},children:"Log Out"})})},A=n(54);var I,P=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(s.a)(a,2),i=o[0],u=o[1],j=Object(c.useState)(!0),b=Object(s.a)(j,2),O=b[0],f=b[1],h=Object(c.useState)(""),x=Object(s.a)(h,2),k=x[0],w=x[1],y=Object(A.a)(),S=y.register,C=y.handleSubmit,F=function(){var e=Object(g.a)(m.a.mark((function e(t,c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),c.preventDefault(),e.prev=2,!O){e.next=9;break}return e.next=6,Object(d.b)(p,n,i);case 6:e.sent,e.next=12;break;case 9:return e.next=11,Object(d.d)(p,n,i);case 11:e.sent;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0.message),w(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(g.a)(m.a.mark((function e(){var t,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.a,e.prev=1,e.next=4,Object(d.e)(p,t);case 4:n=e.sent,c=d.a.credentialFromResult(n),c.accessToken,n.user,e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.code,e.t0.message,e.t0.email,d.a.credentialFromError(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),D=function(e){var t=e.target,n=t.name,c=t.value;"email"===n?r(c):"password"===n&&u(c)};return Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{children:"\uc0ac\uc6a9\uc790 \uc778\uc99d"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("form",{onSubmit:C(F),children:[Object(v.jsx)("input",Object(l.a)(Object(l.a)({},S("email",{required:!0,onChange:D,value:n})),{},{type:"email",id:"id",placeholder:"Email"})),Object(v.jsx)("input",Object(l.a)(Object(l.a)({},S("password",{required:!0,onChange:D,value:i})),{},{type:"text",id:"pw",placeholder:"Password"})),Object(v.jsx)("input",{type:"submit",value:O?"\uac00\uc785\ud558\uae30":"\ub85c\uadf8\uc778"})]}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{onClick:N,children:"Goolge\ub85c \ub85c\uadf8\uc778 \ud558\uae30"})}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{onClick:function(){return f((function(e){return!e}))},children:O?"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc5b4\uc694.":"\uc0c8\ub86d\uac8c \uacc4\uc815\uc744 \uc0dd\uc131\ud574\uc57c\ud574\uc694."})}),k]})]})},q=(w.a.ul(I||(I=Object(j.a)(["\n  display: flex;\n"]))),function(){return Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(i.b,{to:"/",children:"Home"})}),Object(v.jsx)("li",{children:Object(v.jsx)(i.b,{to:"/profile",children:"My profile"})})]})})}),B=function(e){var t=e.isLoggedin,n=e.userObj;return console.log(t?"Logged in":"Not logged in"),Object(v.jsxs)(i.a,{basename:"https://kylelee-js.github.io/Post-it-board",children:[t&&Object(v.jsx)(q,{}),Object(v.jsx)(u.c,{children:t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a,{exact:!0,path:"/",children:Object(v.jsx)(N,{userObj:n})}),Object(v.jsx)(u.a,{exact:!0,path:"/profile",children:Object(v.jsx)(D,{})})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(u.a,{exact:!0,path:"/",children:Object(v.jsx)(P,{})})})})]})};var E=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),o=Object(s.a)(a,2),i=o[0],u=o[1],l=Object(c.useState)(null),j=Object(s.a)(l,2),b=j[0],d=j[1];return Object(c.useEffect)((function(){p.onAuthStateChanged((function(e){e?(u(!0),d(e)):u(!1),r(!0)}))}),[]),Object(v.jsx)("div",{className:"App",children:n?Object(v.jsx)(B,{isLoggedin:i,userObj:b}):"\ub85c\uadf8\uc778 \uc815\ubcf4 \ubd88\ub7ec\uc624\ub294 \uc911..."})};o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(E,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.d0d5a949.chunk.js.map