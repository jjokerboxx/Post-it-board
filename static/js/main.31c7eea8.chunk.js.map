{"version":3,"sources":["firebase.js","atoms.js","components/PostIt.js","components/ColorPalette.js","components/PostItModal.js","routes/Home.js","routes/Profile.js","routes/Auth.js","components/Navigation.js","AppRouter.js","App.js","index.js"],"names":["authService","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","getAuth","firestoreDB","getFirestore","writeOpenState","atom","key","default","deleteState","userState","id","nickname","PostItBox","styled","div","props","postObj","color","PostIt","isOwner","uid","isLikedbyCurrentUser","useHistory","useRecoilState","setIsDeleted","useState","isLiked","setIsLiked","deletePost","a","deleteDoc","doc","prev","console","log","likePost","userInfo","postDoc","updateDoc","like","arrayRemove","arrayUnion","date","Date","uploadedAt","getMonth","getDate","getFullYear","style","position","marginBottom","right","border","backgroundColor","onClick","width","contents","top","ColorPalette","className","e","target","$clickedPost","document","querySelector","$clickedPostIt","animate","duration","fill","setTimeout","Overlay","motion","Modal","scrollY","get","PostItModal","userObj","post","setPost","setIsModalOn","onSubmit","preventDefault","$postIt","now","author","addDoc","collection","docRef","value","useViewportScroll","AnimatePresence","opacity","exit","flex","marginTop","cols","rows","onChange","placeholder","maxLength","map","PostGrid","widthoffset","WriteButton","button","ButtonMenu","Home","offset","setOffset","postArry","setPostArry","likedPostId","setLikedPostId","isSorted","setIsSorted","isModalOn","setUserInfoState","useEffect","qu","query","where","onSnapshot","snapshot","userInfoArry","docs","elem","data","error","setResponsiveOffset","window","innerWidth","addEventListener","removeEventListener","q","orderBy","docArry","sort","b","element","includes","WarningSign","Profile","uId","likedPostArry","setLikedPostArry","userNickname","useRecoilValue","Promise","allSettled","getDoc","likedpost","then","r","marginLeft","fontSize","length","undefined","Wrapper","FormDiv","Form","form","Input","input","SubmitButton","GoogleButton","AlterButton","Title","h2","Auth","email","setEmail","password","setPassword","newAccount","setNewAccout","setError","useForm","register","handleSubmit","createUserWithEmailAndPassword","authData","user","createdAt","setDoc","signInWithEmailAndPassword","message","onGoogleClick","provider","GoogleAuthProvider","signInWithPopup","result","credential","credentialFromResult","accessToken","code","credentialFromError","name","required","type","Nav","nav","LogOutButton","ChangeProfileButton","Navigation","history","profileMatch","useRouteMatch","formCliked","setFormClicked","userInfoState","changeNickname","isProfile","to","textDecoration","signOut","push","AppRouter","isLoggedin","exact","path","App","init","setInit","setLoggedin","setUserObj","auth","onAuthStateChanged","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.31c7eea8.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n\tapiKey: process.env.REACT_APP_API_KEY,\n\tauthDomain: process.env.REACT_APP_AUTH_DOMAIN,\n\tprojectId: process.env.REACT_APP_PROJECT_ID,\n\tstorageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n\tmessagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n\tappId: process.env.REACT_APP_APP_ID,\n};\n\nconst app = initializeApp(firebaseConfig);\n\nexport const authService = getAuth();\nexport const firestoreDB = getFirestore();\n","import { atom } from \"recoil\";\n\nexport const writeOpenState = atom({\n  key: \"writeOpenState\",\n  default: false,\n});\n\nexport const deleteState = atom({\n  key: \"deleteState\",\n  default: false,\n});\n\nexport const userState = atom({\n  key: \"userState\",\n  default: { id: \"\", nickname: \"\" },\n});\n\nexport const likedPostIdArr = atom({\n  key: \"likedPostIdArr\",\n  default: [],\n});\n","import React, { useState, useEffect } from \"react\";\nimport { firestoreDB } from \"firebase\";\nimport {\n  collection,\n  deleteDoc,\n  doc,\n  updateDoc,\n  arrayUnion,\n  arrayRemove,\n} from \"@firebase/firestore\";\nimport styled from \"styled-components\";\nimport { useRecoilState } from \"recoil\";\nimport { deleteState } from \"atoms\";\nimport { useHistory } from \"react-router-dom\";\n\nconst PostItBox = styled.div`\n  position: relative;\n  word-wrap: \"break-word\";\n  background-color: ${(props) => props.postObj.color};\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  /* border: \"none\"; */\n  border-radius: 10px;\n  padding: 10px;\n  margin: 30px;\n  outline-style: none;\n  resize: none;\n  width: 250px;\n  height: 150px;\n`;\n\nconst PostIt = ({ postObj, isOwner, uid, isLikedbyCurrentUser }) => {\n  const history = useHistory();\n  const [isDeleted, setIsDeleted] = useRecoilState(deleteState);\n\n  const [isLiked, setIsLiked] = useState(isLikedbyCurrentUser);\n\n  const deletePost = async () => {\n    await deleteDoc(doc(firestoreDB, \"Post\", postObj.id));\n    setIsDeleted((prev) => !prev);\n    // history.go(0);\n    console.log(\"delete doc\", postObj.id);\n  };\n\n  // 도대체 왜 매 포스트잇마다 현재 유저를 불러와야함? ===> 코드 수정하기\n\n  const likePost = async () => {\n    const userInfo = await doc(firestoreDB, \"UserInfo\", uid);\n    console.log(userInfo);\n\n    const postDoc = await doc(firestoreDB, \"Post\", postObj.id);\n\n    await updateDoc(postDoc, {\n      like: isLiked ? postObj.like - 1 : postObj.like + 1,\n    });\n    await updateDoc(userInfo, {\n      likePost: isLiked ? arrayRemove(postObj.id) : arrayUnion(postObj.id),\n    });\n    console.log(isLiked ? \"like post\" : \"unlike post\");\n    setIsLiked((prev) => !prev);\n  };\n\n  const date = new Date(postObj.uploadedAt);\n  const dataString = `${\n    date.getMonth() + 1\n  }, ${date.getDate()}, ${date.getFullYear()}`;\n  return (\n    <>\n      <PostItBox postObj={postObj}>\n        {isOwner && (\n          <>\n            <div>\n              <button\n                style={{\n                  position: \"absolute\",\n                  marginBottom: 5,\n                  // float: \"right\",\n                  right: \"10px\",\n\n                  border: \"none\",\n                  backgroundColor: postObj.color,\n                  color: \"white\",\n                }}\n                onClick={deletePost}\n              >\n                ✖\n              </button>\n            </div>\n          </>\n        )}\n        <div style={{ width: 220 }} id={postObj.id}>\n          <span>{postObj.contents}</span>\n        </div>\n        <>\n          <div>\n            <button\n              style={{\n                position: \"absolute\",\n                marginBottom: 5,\n                right: \"10px\",\n                top: \"40px\",\n                border: \"none\",\n                backgroundColor: postObj.color,\n                color: \"white\",\n              }}\n              onClick={likePost}\n            >\n              <b>👍🏻 {postObj.like != 0 && postObj.like}</b>\n            </button>\n          </div>\n        </>\n      </PostItBox>\n    </>\n  );\n};\n\nexport default PostIt;\n","const ColorPalette = ({ color }) => {\n  // 포스트잇 색상 변경\n  const onColorClick = (e) => {\n    const {\n      target: { id },\n    } = e;\n    const $clickedPost = document.querySelector(\".post\");\n    const $clickedPostIt = document.querySelector(\".postIt\");\n\n    $clickedPost.animate(\n      { backgroundColor: id },\n      { duration: 400, fill: \"forwards\" }\n    );\n    $clickedPostIt.animate(\n      { backgroundColor: id },\n      { duration: 400, fill: \"forwards\" }\n    );\n    setTimeout(() => {\n      $clickedPost.style.backgroundColor = id;\n      $clickedPostIt.style.backgroundColor = id;\n    }, 100);\n  };\n  return (\n    <div\n      id={color}\n      className=\"colorButton\"\n      style={{ backgroundColor: color }}\n      onClick={onColorClick}\n    ></div>\n  );\n};\n\nexport default ColorPalette;\n","import { firestoreDB } from \"firebase\";\nimport {\n  AnimatePresence,\n  motion,\n  MotionValue,\n  useViewportScroll,\n  Variants,\n} from \"framer-motion\";\nimport { collection, addDoc } from \"@firebase/firestore\";\nimport React, { useState, useEffect } from \"react\";\nimport ColorPalette from \"./ColorPalette\";\nimport styled from \"styled-components\";\nimport { writeOpenState } from \"atoms\";\nimport { useRecoilState } from \"recoil\";\n\nconst Overlay = styled(motion.div)`\n  z-index: 1000;\n  position: fixed;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  opacity: 0;\n  background-color: rgba(0, 0, 0, 0.6);\n`;\n\nconst Modal = styled(motion.div)`\n  z-index: 1001;\n  border-radius: 15px !important;\n  overflow: auto !important;\n  top: ${(props) => props.scrollY.get() + 100}px;\n  position: absolute;\n  width: 800px;\n\n  height: 60%;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  background-color: white;\n`;\n\nfunction PostItModal({ userObj }) {\n  // 0) 상태 모음\n  const [post, setPost] = useState(\"\");\n  const [postArry, setPostArry] = useState([]);\n  const [isSorted, setIsSorted] = useState(false);\n  const [isModalOn, setIsModalOn] = useRecoilState(writeOpenState);\n\n  // 1) 텍스트입력 감지 후 입력값(value)을 [post]로 올리기\n  const onChange = (e) => {\n    const {\n      target: { value },\n    } = e;\n    setPost(value);\n  };\n\n  // 2) 업로드\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    const $postIt = document.querySelector(\".postIt\");\n    const postObj = {\n      // 상태를 객체로 받아와서 firestore에 올리기\n      contents: post,\n      uploadedAt: Date.now(),\n      author: userObj.uid,\n      color: $postIt.style.backgroundColor,\n      like: 0,\n    };\n    const docRef = await addDoc(collection(firestoreDB, \"Post\"), postObj);\n    console.log(\"Document written with ID: \", docRef.id);\n    // 입력칸 비우기\n    document.querySelector(\".post\").value = \"\";\n    setPost(\"\");\n    setIsModalOn(false);\n  };\n  const onOverlayClick = () => {\n    setIsModalOn((prev) => !prev);\n  };\n  const { scrollY } = useViewportScroll();\n  return (\n    <>\n      <AnimatePresence>\n        <Overlay\n          onClick={onOverlayClick}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n        />\n        <Modal animate={{ opacity: 1 }} exit={{ opacity: 0 }} scrollY={scrollY}>\n          <div style={{ flex: 1, marginTop: 70 }}>\n            <form className=\"postForm\">\n              <div className=\"postIt\" style={{ backgroundColor: \"#ffd359\" }}>\n                <textarea\n                  style={{ marginTop: \"10px\" }}\n                  className=\"post\"\n                  cols={30}\n                  rows={7}\n                  value={post}\n                  onChange={onChange}\n                  placeholder=\"What's on your mind?\"\n                  maxLength={140}\n                ></textarea>\n                <div className=\"colorPalette\">\n                  {[\"#ffd359\", \"#e2ff3d\", \"#ff8547\", \"#44ccff\", \"#ff8adc\"].map(\n                    (e) => (\n                      <ColorPalette color={e} />\n                    )\n                  )}\n                </div>\n              </div>\n              <button className=\"defaultButton\" onClick={onSubmit}>\n                Post!\n              </button>\n            </form>\n          </div>\n        </Modal>\n      </AnimatePresence>\n    </>\n  );\n}\n\nexport default PostItModal;\n","import { firestoreDB } from \"firebase\";\nimport {\n  collection,\n  addDoc,\n  onSnapshot,\n  query,\n  orderBy,\n  where,\n} from \"@firebase/firestore\";\nimport React, { useState, useEffect } from \"react\";\nimport PostIt from \"../components/PostIt\";\nimport \"../styles/App.css\";\nimport styled from \"styled-components\";\nimport PostItModal from \"components/PostItModal\";\nimport { useRecoilState } from \"recoil\";\nimport { likedPostIdArr, userState, writeOpenState } from \"atoms\";\n\nconst PostGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(${(props) => props.widthoffset}, 1fr);\n`;\n\nconst WriteButton = styled.button`\n  cursor: pointer;\n  width: 100px;\n  border: none;\n  color: white;\n  background-color: orange;\n  padding: 5px;\n  font-size: 15px;\n  border-radius: 10px;\n  margin: 10px;\n  font-family: \"SpoqaHanSansNeo\";\n`;\n\nconst ButtonMenu = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  width: 300px;\n`;\n\nconst Home = ({ userObj }) => {\n  let [offset, setOffset] = useState(4);\n  const [postArry, setPostArry] = useState([]);\n  // const [likedPostId, setLikedPostId] = useRecoilState(likedPostIdArr);\n  const [likedPostId, setLikedPostId] = useState([]);\n  const [isSorted, setIsSorted] = useState(false);\n  const [isModalOn, setIsModalOn] = useRecoilState(writeOpenState);\n  const [userInfoState, setUserInfoState] = useRecoilState(userState);\n\n  const onSortClick = () => {\n    setIsSorted((prev) => !prev);\n    console.log(isSorted);\n  };\n  const onWriteClick = () => {\n    setIsModalOn((prev) => !prev);\n  };\n\n  useEffect(() => {\n    try {\n      const qu = query(\n        collection(firestoreDB, \"UserInfo\"),\n        where(\"id\", \"==\", userObj.uid)\n      );\n      const userSnapshot = onSnapshot(qu, (snapshot) => {\n        const userInfoArry = snapshot.docs.map((elem) => ({\n          ...elem.data(),\n        }));\n        const { likePost } = userInfoArry[0];\n        const { nickname } = userInfoArry[0];\n        setLikedPostId(likePost);\n        setUserInfoState({ id: userObj.uid, nickname: nickname });\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n\n  useEffect(() => {\n    const setResponsiveOffset = () => {\n      if (window.innerWidth < 600) {\n        setOffset(1);\n      } else if (window.innerWidth <= 800) {\n        setOffset(2);\n      } else if (window.innerWidth < 1000) {\n        setOffset(3);\n      } else if (window.innerWidth > 1200) {\n        setOffset(4);\n      }\n    };\n    // resize 이벤트 리스너 추가해서 실시간으로 반응형 웹 만들기\n    window.addEventListener(\"resize\", setResponsiveOffset);\n\n    // 항상 이벤트 리스너를 리턴해서 메모리 누수를 막아야한다.\n    return () => window.removeEventListener(\"resize\", setResponsiveOffset);\n  }, []);\n\n  // 4) 실시간 snapshot 렌더링\n  useEffect(() => {\n    // 정렬 기준\n    const sortOrder = \"uploadedAt\";\n    // 쿼리문 생성\n    const q = query(\n      collection(firestoreDB, \"Post\"),\n      orderBy(sortOrder, \"desc\")\n    );\n    const postSnapshot = onSnapshot(q, (snapshot) => {\n      const docArry = snapshot.docs.map((elem) => ({\n        id: elem.id,\n        ...elem.data(),\n      }));\n      setPostArry(docArry);\n    });\n  }, [isSorted]);\n\n  return (\n    <>\n      <ButtonMenu>\n        <button className=\"defaultButton\" onClick={onSortClick}>\n          Sort by {isSorted ? \"Time\" : \"Like\"}\n        </button>\n        <WriteButton onClick={onWriteClick}>새 글 작성하기</WriteButton>\n      </ButtonMenu>\n\n      <div className=\"flexContainer\">\n        {isModalOn && <PostItModal userObj={userObj} />}\n        <PostGrid widthoffset={offset}>\n          {postArry\n            .sort((a, b) => {\n              if (isSorted) {\n                return b.like - a.like;\n              } else {\n                return b.uploadedAt - a.uploadedAt;\n              }\n            })\n            .map((element) => (\n              <PostIt\n                key={element.id}\n                postObj={element}\n                isOwner={userObj.uid === element.author}\n                uid={userObj.uid}\n                isLikedbyCurrentUser={likedPostId.includes(element.id)}\n              />\n            ))}\n        </PostGrid>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  collection,\n  doc,\n  getDoc,\n  getDocs,\n  onSnapshot,\n  orderBy,\n  query,\n  where,\n} from \"firebase/firestore\";\nimport styled from \"styled-components\";\nimport { firestoreDB } from \"firebase\";\nimport PostIt from \"components/PostIt\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { deleteState, userState } from \"atoms\";\n\nconst PostGrid = styled.div`\n  display: grid;\n  position: relative;\n  min-height: 200px;\n  grid-template-columns: repeat(4, 1fr);\n`;\n\nconst WarningSign = styled.div`\n  font-size: 24px;\n  position: absolute;\n  display: flex;\n  left: -300px;\n  justify-content: center;\n  align-items: center;\n  height: 200px;\n  width: 300px;\n`;\n\nconst Profile = ({ userObj }) => {\n  const uId = userObj.uid;\n\n  const [postArry, setPostArry] = useState([]);\n  const [likedPostArry, setLikedPostArry] = useState([]);\n  const [isDeleted, setIsDeleted] = useRecoilState(deleteState);\n  const [likedPostId, setLikedPostId] = useState([]);\n  const userNickname = useRecoilValue(userState);\n\n  // 내가 쓴 글 불러오기\n  useEffect(() => {\n    const q = query(\n      collection(firestoreDB, \"Post\"),\n      where(\"author\", \"==\", uId),\n      orderBy(\"uploadedAt\", \"desc\")\n    );\n    const postSnapshot = onSnapshot(q, (snapshot) => {\n      const docArry = snapshot.docs.map((elem) => ({\n        id: elem.id,\n        ...elem.data(),\n      }));\n      setPostArry(docArry);\n    });\n  }, []);\n\n  useEffect(() => {\n    const qu = query(\n      collection(firestoreDB, \"UserInfo\"),\n      where(\"id\", \"==\", userObj.uid)\n    );\n    const userSnapshot = onSnapshot(qu, (snapshot) => {\n      const userInfoArry = snapshot.docs.map((elem) => ({\n        ...elem.data(),\n      }));\n      const { likePost } = userInfoArry[0];\n      setLikedPostId(likePost);\n    });\n  }, []);\n\n  // 내가 좋아요 누른 글 불러오기\n  useEffect(() => {\n    const q = query(\n      collection(firestoreDB, \"UserInfo\"),\n      where(\"id\", \"==\", uId)\n    );\n    const userSnapshot = onSnapshot(q, (snapshot) => {\n      const userInfoArry = snapshot.docs.map((elem) => ({\n        ...elem.data(),\n      }));\n      const { likePost } = userInfoArry[0];\n      // Promise.all()로 리펙토링 하기!!\n      // Promise.all(\n      //   likePost.map(async (e) => {\n      //     let likedpost = await getDoc(doc(firestoreDB, \"Post\", e));\n      //     setLikedPostArry((prev) => [...prev, likedpost.data()]);\n      //   })\n      // );\n      const result = Promise.allSettled(\n        likePost.map(async (e) => {\n          try {\n            let likedpost = await getDoc(doc(firestoreDB, \"Post\", e));\n            return likedpost.data();\n          } catch (error) {\n            console.log(error);\n          }\n        })\n      );\n      // setLikedPostArry(result);\n      result.then((r) => {\n        setLikedPostArry(r);\n      });\n    });\n  }, []);\n\n  return (\n    <>\n      <b style={{ marginLeft: 40, fontSize: \"20px\" }}>\n        {userNickname.nickname}님이 쓴 글 모아보기\n      </b>\n      <div className=\"flexContainer\">\n        <PostGrid>\n          {postArry.length == 0 ? (\n            <WarningSign>아직 쓴 글이 없어요</WarningSign>\n          ) : (\n            postArry.map((element) => (\n              <PostIt\n                key={element.id}\n                postObj={element}\n                isOwner={userObj.uid === element.author}\n                isLikedbyCurrentUser={likedPostId.includes(element.id)}\n              />\n            ))\n          )}\n        </PostGrid>\n      </div>\n      <b style={{ marginLeft: 40, fontSize: \"20px\" }}>\n        {userNickname.nickname}님이 좋아요 누른 글 모아보기\n      </b>\n      <div className=\"flexContainer\">\n        <PostGrid>\n          {likedPostArry.length === 0 ? (\n            <WarningSign>아직 좋아하는 글이 없어요</WarningSign>\n          ) : (\n            likedPostArry.map((element) => {\n              if (element.value !== undefined) {\n                return (\n                  <PostIt\n                    key={element.value.id}\n                    postObj={element.value}\n                    isOwner={userObj.uid === element.value.author}\n                    // isOwner={false}\n                    isLikedbyCurrentUser={true}\n                  />\n                );\n              }\n            })\n          )}\n        </PostGrid>\n      </div>\n    </>\n  );\n};\nexport default Profile;\n","import React, { useEffect, useState } from \"react\";\nimport { authService, firestoreDB } from \"firebase\";\nimport {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  signInWithPopup,\n  GoogleAuthProvider,\n} from \"firebase/auth\";\nimport { useForm } from \"react-hook-form\";\nimport styled from \"styled-components\";\nimport { doc, setDoc } from \"firebase/firestore\";\n\nconst Wrapper = styled.div`\n  background-color: white;\n  height: 100vh;\n`;\n\nconst ButtonMenu = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  width: 400px;\n  gap: 30px;\n`;\n\nconst FormDiv = styled.div`\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\nconst Form = styled.form`\n  margin: 0 auto;\n  width: 100%;\n  max-width: 414px;\n  padding: 1.3rem;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n`;\nconst Input = styled.input`\n  max-width: 100%;\n  padding: 11px 13px;\n  background: #f9f9fa;\n  color: #f03d4e;\n  margin-bottom: 0.9rem;\n  border-radius: 4px;\n  outline: 0;\n  border: 1px solid rgba(245, 245, 245, 0.7);\n  font-size: 14px;\n  transition: all 0.3s ease-out;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.1), 0 1px 1px rgba(0, 0, 0, 0.1);\n  :focus,\n  :hover {\n    box-shadow: 0 0 3px rgba(0, 0, 0, 0.15), 0 1px 5px rgba(0, 0, 0, 0.1);\n  }\n`;\nconst SubmitButton = styled.button`\n  max-width: 100%;\n  padding: 11px 13px;\n  color: rgb(253, 249, 243);\n  font-weight: 600;\n  text-transform: uppercase;\n  background: #f03d4e;\n  border: none;\n  border-radius: 3px;\n  outline: 0;\n  cursor: pointer;\n  margin-top: 0.6rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease-out;\n  :hover {\n    background: rgb(200, 50, 70);\n    animation: 0.2s ease-out forwards;\n  }\n`;\n\nconst GoogleButton = styled.button`\n  max-width: 100%;\n  padding: 11px 13px;\n  color: rgb(253, 249, 243);\n  font-weight: 600;\n  text-transform: uppercase;\n  background: grey;\n  border: none;\n  border-radius: 3px;\n  outline: 0;\n  cursor: pointer;\n  margin-top: 0.6rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease-out;\n  :hover {\n    background: #3d3b3b;\n    animation: 0.2s ease-out forwards;\n  }\n`;\n\nconst AlterButton = styled.button`\n  max-width: 100%;\n  padding: 11px 13px;\n  color: black;\n  font-weight: 600;\n  text-transform: uppercase;\n  background: #e8dfdf;\n  border: none;\n  border-radius: 3px;\n  outline: 0;\n  cursor: pointer;\n  margin-top: 0.6rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease-out;\n  :hover {\n    background: #303030;\n    color: white;\n    animation: 0.2s ease-out forwards;\n  }\n`;\n\nconst Title = styled.h2`\n  text-align: center;\n  font-size: 38px;\n  margin-top: 30px;\n  margin-bottom: 20px;\n`;\n\nfunction Auth() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [nickname, setNickname] = useState(\"\");\n  const [newAccount, setNewAccout] = useState(true);\n  const [error, setError] = useState(\"\");\n  // const [userInfoState, setUserInfoState] = useRecoilState(userState);\n\n  const toggleAccount = () => setNewAccout((prev) => !prev);\n\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = async (data, e) => {\n    e.preventDefault();\n    try {\n      let authData;\n      if (newAccount) {\n        authData = await createUserWithEmailAndPassword(\n          authService,\n          email,\n          password\n        );\n        // console.log(authData);\n\n        // set User iInformation field\n        const userInfo = {\n          id: authData.user.uid,\n          nickname: data.nickname,\n          createdAt: Date.now(),\n          likePost: [],\n        };\n        const docRef = await setDoc(\n          doc(firestoreDB, \"UserInfo\", userInfo.id),\n          userInfo\n        );\n      } else {\n        authData = await signInWithEmailAndPassword(\n          authService,\n          email,\n          password\n        );\n      }\n    } catch (error) {\n      console.log(error.message);\n      setError(error.message);\n    }\n  };\n  const onGoogleClick = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      const result = await signInWithPopup(authService, provider);\n      const credential = GoogleAuthProvider.credentialFromResult(result);\n      console.log(credential);\n      const token = credential.accessToken;\n      // The signed-in user info.\n      const user = result.user;\n\n      // set User iInformation field\n      const userInfo = {\n        id: user.uid,\n        nickname: \"Google_login_nickname\",\n        createdAt: Date.now(),\n        likePost: [],\n      };\n      const docRef = await setDoc(\n        doc(firestoreDB, \"UserInfo\", userInfo.id),\n        userInfo\n      );\n    } catch (error) {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      // The email of the user's account used.\n      const email = error.email;\n      // The AuthCredential type that was used.\n      const credential = GoogleAuthProvider.credentialFromError(error);\n    }\n  };\n\n  useEffect(() => {\n    //localStorage로 로그인 관리하기?\n  }, []);\n\n  const onChange = (e) => {\n    //destructring event\n    const {\n      target: { name, value },\n    } = e;\n    if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n  };\n\n  return (\n    <Wrapper>\n      <Title>사용자 인증</Title>\n      <FormDiv>\n        <Form onSubmit={handleSubmit(onSubmit)}>\n          <Input\n            {...register(\"email\", {\n              required: true,\n              onChange: onChange,\n              value: email,\n            })}\n            type=\"email\"\n            id=\"id\"\n            placeholder=\"Email\"\n          ></Input>\n          <Input\n            {...register(\"password\", {\n              required: true,\n              onChange: onChange,\n              value: password,\n            })}\n            type=\"text\"\n            id=\"pw\"\n            placeholder=\"Password\"\n          ></Input>\n          {newAccount && (\n            <Input\n              {...register(\"nickname\", {\n                required: true,\n                onChange: onChange,\n                value: nickname,\n              })}\n              type=\"text\"\n              id=\"nickname\"\n              placeholder=\"Nickname\"\n            ></Input>\n          )}\n          <SubmitButton type=\"submit\">\n            {newAccount ? \"가입하기\" : \"로그인\"}\n          </SubmitButton>\n        </Form>\n        <ButtonMenu>\n          <div>\n            <GoogleButton onClick={onGoogleClick}>\n              Goolge 로그인 하기\n            </GoogleButton>\n            {/* <button>Github으로 로그인 하기</button> */}\n          </div>\n          <div>\n            <AlterButton onClick={toggleAccount}>\n              {newAccount ? \"이미 계정이 있어요\" : \"새롭게 계정을 생성해야해요\"}\n            </AlterButton>\n          </div>\n        </ButtonMenu>\n        {error}\n      </FormDiv>\n    </Wrapper>\n  );\n}\nexport default Auth;\n","import { userState } from \"atoms\";\nimport { authService, firestoreDB } from \"firebase\";\nimport { doc, updateDoc } from \"firebase/firestore\";\nimport React, { useState } from \"react\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { useRecoilState } from \"recoil\";\nimport { useForm } from \"react-hook-form\";\nimport styled from \"styled-components\";\n\nconst Nav = styled.nav`\n  margin: 30px;\n  display: flex;\n  gap: 20px;\n  height: 30px;\n  align-items: baseline;\n  background-color: white;\n\n  a {\n    text-decoration: none;\n    font-size: 12px;\n    color: black;\n    /* height: 50px; */\n\n    :first-child {\n      font-size: 24px;\n      background: linear-gradient(to right top, #ffd359 40%, #44ccff 70%);\n      -webkit-background-clip: text;\n      color: rgba(0, 0, 0, 0.14);\n    }\n  }\n`;\nconst Form = styled.form``;\nconst Input = styled.input`\n  padding: 11px 13px;\n  background: #f9f9fa;\n  color: #f03d4e;\n  margin-bottom: 0.9rem;\n  border-radius: 4px;\n  outline: 0;\n  border: 1px solid rgba(245, 245, 245, 0.7);\n  font-size: 14px;\n`;\n\nconst LogOutButton = styled.button`\n  position: absolute;\n  cursor: pointer;\n  right: 20px;\n  width: 50px;\n  border: none;\n  color: white;\n  background-color: grey;\n  padding: 5px;\n  font-size: 10px;\n  border-radius: 10px;\n  margin: 10px;\n  font-family: \"SpoqaHanSansNeo\";\n  transition: all 0.3s ease-out;\n  :hover {\n    background: #303030;\n    color: white;\n    animation: 0.2s ease-out forwards;\n  }\n`;\n\nconst ChangeProfileButton = styled.button`\n  background-color: rgba(123, 227, 111, 1);\n  border-radius: 5px;\n  border: none;\n  color: white;\n  height: 1.8rem;\n  font-family: \"SpoqaHanSansNeo\";\n  transition: all 0.3s ease-out;\n  :hover {\n    background: #303030;\n    color: white;\n    animation: 0.2s ease-out forwards;\n  }\n`;\n\nconst Navigation = () => {\n  const history = useHistory();\n  const profileMatch = useRouteMatch(\"/profile\");\n  const [formCliked, setFormClicked] = useState(false);\n  const [userInfoState, setUserInfoState] = useRecoilState(userState);\n\n  const { register, handleSubmit } = useForm();\n\n  const onLogOutClick = () => {\n    authService.signOut();\n    history.push(\"/\");\n  };\n\n  const onFormClick = () => {\n    setFormClicked((prev) => !prev);\n  };\n\n  const changeNickname = async (data, e) => {\n    e.preventDefault();\n    const userInfo = await doc(firestoreDB, \"UserInfo\", userInfoState.id);\n    //form으로 닉네임 받기\n    await updateDoc(userInfo, {\n      nickname: data.nickname,\n    });\n    setUserInfoState({ id: userInfoState.id, nickname: data.nickname });\n    setFormClicked(false);\n  };\n\n  return (\n    <Nav isProfile={profileMatch}>\n      <Link to={\"/\"}>Post It Board</Link>\n\n      <Link\n        style={{\n          textDecoration: profileMatch ? \"underline\" : \"none\",\n        }}\n        to={\"/profile\"}\n      >\n        {userInfoState.nickname}'s profile\n      </Link>\n\n      {profileMatch && (\n        <ChangeProfileButton onClick={onFormClick}>\n          별명 수정하기\n        </ChangeProfileButton>\n      )}\n      {profileMatch && formCliked && (\n        <Form onSubmit={handleSubmit(changeNickname)}>\n          <Input\n            {...register(\"nickname\", {\n              required: true,\n            })}\n            id=\"change-nickname\"\n            placeholder=\"Change Nickname\"\n          ></Input>\n        </Form>\n      )}\n\n      <LogOutButton onClick={onLogOutClick}>Log Out</LogOutButton>\n    </Nav>\n  );\n};\n\nexport default Navigation;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"routes/Home\";\nimport Profile from \"routes/Profile\";\nimport Auth from \"./routes/Auth\";\nimport Navigation from \"./components/Navigation\";\n\nconst AppRouter = ({ isLoggedin, userObj }) => {\n  return (\n    <Router>\n      {isLoggedin && <Navigation />}\n      <Switch>\n        {/* 로그인 정보를 받아서 null이 아니면 Auth 화면으로 처리해줌 */}\n        {isLoggedin ? (\n          <>\n            <Route exact path=\"/\">\n              <Home userObj={userObj} />\n            </Route>\n            <Route path={[\"/profile\"]}>\n              <Profile userObj={userObj} />\n            </Route>\n          </>\n        ) : (\n          <>\n            <Route exact path=\"/\">\n              <Auth />\n            </Route>\n          </>\n        )}\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","import AppRouter from \"AppRouter\";\nimport React, { useState, useEffect } from \"react\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [isLoggedin, setLoggedin] = useState(true);\n  const [userObj, setUserObj] = useState(null);\n  // const [userId, setUserId] = useRecoilState(userIdState);\n\n  useEffect(() => {\n    let auth = getAuth();\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        console.log(\"settimeout login\", user);\n        setLoggedin(true);\n        setUserObj(user);\n        console.log(init, user);\n        setInit(true);\n      } else {\n        setLoggedin(false);\n        setInit(true);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"App\">\n      {init ? (\n        <AppRouter isLoggedin={isLoggedin} userObj={userObj} />\n      ) : (\n        \"로그인 정보 불러오는 중...\"\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport firebase from \"firebase\";\nimport { RecoilRoot } from \"recoil\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}